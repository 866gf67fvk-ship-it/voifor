<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VOIFOR -声占い-</title>
    <meta name="theme-color" content="#667eea">
    
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- メイン画面 -->
    <div id="mainScreen" class="screen active">
        <div class="container">
            
            <!-- タイトル -->
            <header class="app-header">
                <h1>VOIFOR</h1>
                <p>-声占い-</p>
            </header>

<!-- キャラ＆カレンダーエリア -->
            <div class="main-info-row">
                <!-- 左：キャラ画像（縦長） -->
                <div class="character-area">
                    <div id="characterImage" class="character-image"></div>
                </div>
                <!-- 右：カレンダー＋プロフ -->
                <div class="right-column">
                    <div class="calendar-area">
                        <div id="calendarDisplay" class="mini-calendar"></div>
                    </div>
                    <div class="user-stats">
                        <span>🔥 <span id="streakCount">0</span>日連続</span>
                        <span>📊 <span id="totalCount">0</span>回</span>
                    </div>
                </div>
            </div>

            <!-- キャラの言葉/占い結果 -->
            <div class="speech-bubble" id="speechBubble">
                占いの準備ができました！
            </div>
            <!-- 今日の占いボタン -->
            <button class="main-fortune-btn" onclick="startVoiceFortune()">
                🔮 今日の占い！
            </button>

            <!-- チケット＆設定エリア -->
            <div class="action-row">
                <div class="ticket-info" onclick="showPurchaseScreen()">
                    <span>🎫 チケット</span>
                    <span id="ticketCount">0</span>
                </div>
                <div class="side-buttons">
                    <button onclick="showSettingsScreen()">⚙️ 設定</button>
                    <button onclick="showHistoryScreen()">📜 履歴</button>
                </div>
            </div>

            <!-- 動画＆招待エリア -->
            <div class="action-row">
                <button class="ad-btn" onclick="watchAdForTicket()">
                    📺 動画みて+1
                </button>
                <button class="invite-btn" onclick="showReferralScreen()">
                    👥 招待
                </button>
            </div>

            <!-- その他占い -->
            <div class="other-fortune-section">
                <h2>その他占い</h2>
                <div class="fortune-grid">
                    <button class="fortune-card" onclick="showCompatibilityScreen()">
                        💕 相性占い
                    </button>
                    <button class="fortune-card" onclick="showTarotScreen()">
                        🃏 タロット占い
                    </button>
                    <button class="fortune-card" onclick="showDreamScreen()">
                        🌙 夢占い
                    </button>
                    <button class="fortune-card coming-soon" disabled>
                        🔜 Coming soon...
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script src="supabase-config.js"></script>
    <script src="app.js"></script>

</body>
</html>